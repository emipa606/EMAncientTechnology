<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <ThingDef Name="EM_BaseHumanMakeableGun" ParentName="BaseMakeableGun" Abstract="True">
    <weaponTags>
      <li>MechaniteGuns</li>
    </weaponTags>
  </ThingDef>
  <!-- bullets - rank 1-->
  <ThingDef ParentName="BaseBullet">
    <defName>Bullet_EMShotstaff</defName>
    <label>shotstaff thorn</label>
    <graphicData>
      <texPath>Things/Item/Weapon/Barb</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>MM_Scratch</damageDef>
      <damageAmountBase>1</damageAmountBase>
      <speed>300</speed>
    </projectile>
  </ThingDef>
  <ThingDef ParentName="BaseGrenadeProjectile">
    <defName>Proj_EMCharge</defName>
    <label>chemical mixture</label>
    <thingClass>Projectile_Explosive</thingClass>
    <graphicData>
      <texPath>Things/Item/Weapon/ChargesThrown</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <flyOverhead>False</flyOverhead>
      <explosionRadius>1.5</explosionRadius>
      <damageDef>EM_ChargeShot</damageDef>
      <damageAmountBase>4</damageAmountBase>
      <explosionDelay>80</explosionDelay>
      <speed>10</speed>
    </projectile>
  </ThingDef>
  <ThingDef ParentName="BaseProjectileNeolithic">
    <defName>Arrow_EMBowsling</defName>
    <label>bowsling arrow</label>
    <graphicData>
      <texPath>Things/Projectile/Arrow_Small</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <flyOverhead>false</flyOverhead>
      <damageDef>MM_Scratch</damageDef>
      <damageAmountBase>1</damageAmountBase>
      <speed>200</speed>
    </projectile>
  </ThingDef>
  <!-- bullets - rank 2-->
  <thingDef ParentName="BaseBullet">
    <defName>Bullet_EMRipper</defName>
    <label>ripper cloud</label>
    <graphicData>
      <texPath>Things/Projectile/Bullet_Shotgun</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>MM_Scratch</damageDef>
      <damageAmountBase>7</damageAmountBase>
      <speed>75</speed>
    </projectile>
  </thingDef>
  <thingDef ParentName="BaseBullet">
    <defName>Bullet_EMJavelin</defName>
    <label>bomb javelin</label>
    <graphicData>
      <texPath>Things/Item/Weapon/JavelinThrown</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <thingClass>Projectile_Explosive</thingClass>
    <projectile>
      <flyOverhead>False</flyOverhead>
      <damageDef>EM_JavelinShot</damageDef>
      <damageAmountBase>12</damageAmountBase>
      <explosionRadius>1</explosionRadius>
      <speed>50</speed>
    </projectile>
  </thingDef>
  <thingDef ParentName="BaseBullet">
    <defName>Bullet_EMEye</defName>
    <label>evil gaze</label>
    <graphicData>
      <texPath>Things/Projectile/Arrow_Small</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>EM_SleepShot</damageDef>
      <damageAmountBase>6</damageAmountBase>
      <speed>5000</speed>
    </projectile>
  </thingDef>
  <!-- guns rank 1 -->
  <!--mechanoid - shotstaff-->
  <ThingDef ParentName="EM_BaseHumanMakeableGun">
    <defName>EM_GunShotstaff</defName>
    <label>Thunder Staff</label>
    <description>Bizarre combination of recovered technology and weaponsmithing. Unleashes dozens of tiny bards in a wide arc. Short range, great for groups. Also makes for a decent melee weapon due to the barbs that cover it. Takes a long time to shoot and move after shooting.</description>
    <graphicData>
      <texPath>Things/Item/Weapon/Staff</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Interact_Shotgun</soundInteract>
    <generateCommonality>0.3</generateCommonality>
    <equippedStatOffsets>
      <PainShockThreshold>-0.02</PainShockThreshold>
    </equippedStatOffsets>
    <statBases>
      <WorkToMake>29500</WorkToMake>
      <Mass>4.5</Mass>
      <AccuracyTouch>0.50</AccuracyTouch>
      <AccuracyShort>0.43</AccuracyShort>
      <AccuracyMedium>0.38</AccuracyMedium>
      <AccuracyLong>0.32</AccuracyLong>
      <RangedWeapon_Cooldown>3.5</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>MechaniteMagicRS</li>
    </weaponTags>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_EMShotstaff</defaultProjectile>
        <warmupTime>3</warmupTime>
        <range>5</range>
        <burstShotCount>30</burstShotCount>
        <ticksBetweenBurstShots>0</ticksBetweenBurstShots>
        <soundCast>Shot_Shotgun</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
        <!-- <forcedMissRadius>2.5</forcedMissRadius> -->
      </li>
    </verbs>
    <tools>
      <li>
        <label>stock</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>7</power>
        <cooldownTime>1.8</cooldownTime>
      </li>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>7</power>
        <cooldownTime>1.9</cooldownTime>
      </li>
    </tools>
    <recipeMaker>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Sculpt</effectWorking>
      <soundWorking>Recipe_Sculpt</soundWorking>
      <recipeUsers>
        <li>CraftingSpot</li>
        <li>ElectricSmithy</li>
        <li>FueledSmithy</li>
      </recipeUsers>
      <unfinishedThingDef>UnfinishedSculpture</unfinishedThingDef>
      <researchPrerequisite>MM_Adv</researchPrerequisite>
    </recipeMaker>
    <costList>
      <I_EMMechanismS>3</I_EMMechanismS>
      <WoodLog>150</WoodLog>
      <I_EMBlood>4</I_EMBlood>
    </costList>
  </ThingDef>
  <!--ai persona - charges-->
  <ThingDef ParentName="BaseWeapon">
    <defName>EM_ChemicalCharge</defName>
    <equipmentType>Primary</equipmentType>
    <label>Chemical Charges</label>
    <description>A volatile mixture of chemicals and mechanites from a lost recipe, explodes in a concussive blast when thrown.</description>
    <graphicData>
      <texPath>Things/Item/Weapon/Charges</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Interact_Grenade</soundInteract>
    <techLevel>Neolithic</techLevel>
    <statBases>
      <WorkToMake>30500</WorkToMake>
      <Mass>1.08</Mass>
      <MarketValue>500</MarketValue>
      <AccuracyTouch>0.69</AccuracyTouch>
      <AccuracyShort>0.42</AccuracyShort>
      <AccuracyMedium>0.33</AccuracyMedium>
      <AccuracyLong>0.20</AccuracyLong>
      <RangedWeapon_Cooldown>1.66</RangedWeapon_Cooldown>
    </statBases>
    <equippedStatOffsets>
      <MoveSpeed>-0.2</MoveSpeed>
      <MentalBreakThreshold>-0.01</MentalBreakThreshold>
    </equippedStatOffsets>
    <weaponTags>
      <li>MechaniteMagicRS</li>
    </weaponTags>
    <thingCategories>
      <li>Grenades</li>
    </thingCategories>
    <verbs>
      <li>
        <label>throw grenades</label>
        <verbClass>Verb_shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <range>10</range>
        <forcedMissRadius>2.2</forcedMissRadius>
        <warmupTime>1.40</warmupTime>
        <noiseRadius>3</noiseRadius>
        <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
        <soundCast>ThrowGrenade</soundCast>
        <burstShotCount>3</burstShotCount>
        <ticksBetweenBurstShots>3</ticksBetweenBurstShots>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
        </targetParams>
        <defaultProjectile>Proj_EMCharge</defaultProjectile>
      </li>
    </verbs>
    <recipeMaker>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Sculpt</effectWorking>
      <soundWorking>Recipe_Sculpt</soundWorking>
      <recipeUsers>
        <li>CraftingSpot</li>
        <li>ElectricSmithy</li>
        <li>FueledSmithy</li>
      </recipeUsers>
      <unfinishedThingDef>UnfinishedSculpture</unfinishedThingDef>
      <researchPrerequisite>MM_Adv</researchPrerequisite>
    </recipeMaker>
    <costList>
      <I_EMMechanismS>3</I_EMMechanismS>
      <WoodLog>100</WoodLog>
      <I_EMBlood>4</I_EMBlood>
      <PsychoidLeaves>30</PsychoidLeaves>
    </costList>
  </ThingDef>
  <!--cryptosleep - bowsling-->
  <ThingDef ParentName="EM_BaseHumanMakeableGun">
    <defName>EM_GunBowsling</defName>
    <label>Bowsling</label>
    <description>Lost technology brought to life with mechanites. A bundle of arrows dropped into this rather unwieldy tube are spat out at incredible speeds with surprising accuracy.</description>
    <graphicData>
      <texPath>Things/Item/Weapon/Bowsling</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Bow_Small</soundInteract>
    <recipeMaker>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Sculpt</effectWorking>
      <soundWorking>Recipe_Sculpt</soundWorking>
      <recipeUsers>
        <li>CraftingSpot</li>
        <li>ElectricSmithy</li>
        <li>FueledSmithy</li>
      </recipeUsers>
      <unfinishedThingDef>UnfinishedSculpture</unfinishedThingDef>
      <researchPrerequisite>MM_Adv</researchPrerequisite>
    </recipeMaker>
    <costList>
      <I_EMMechanismL>1</I_EMMechanismL>
      <I_EMMechanismS>2</I_EMMechanismS>
      <WoodLog>150</WoodLog>
      <I_EMBlood>4</I_EMBlood>
    </costList>
    <equippedStatOffsets>
      <ImmunityGainSpeed>0.02</ImmunityGainSpeed>
    </equippedStatOffsets>
    <statBases>
      <WorkToMake>35000</WorkToMake>
      <Mass>2.5</Mass>
      <AccuracyTouch>0.85</AccuracyTouch>
      <AccuracyShort>0.8</AccuracyShort>
      <AccuracyMedium>0.45</AccuracyMedium>
      <AccuracyLong>0.3</AccuracyLong>
      <RangedWeapon_Cooldown>1.36</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>MechaniteMagicRS</li>
    </weaponTags>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Arrow_EMBowsling</defaultProjectile>
        <warmupTime>0.9</warmupTime>
        <range>18</range>
        <burstShotCount>4</burstShotCount>
        <ticksBetweenBurstShots>7</ticksBetweenBurstShots>
        <soundCast>Bow_Small</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>4</power>
        <cooldownTime>1.6</cooldownTime>
      </li>
    </tools>
  </ThingDef>
  <!-- guns rank 2 -->
  <!--mechanoid - ripper-->
  <thingDef ParentName="EM_BaseHumanMakeableGun">
    <defName>EM_GunRipper</defName>
    <label>Ripper</label>
    <description>A very strange piece of ancient technology. Releases a cloud of mechanites that tear and shred anything they touch to pieces.</description>
    <graphicData>
      <texPath>Things/Item/Weapon/Ripper</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>EM_RipperSound</soundInteract>
    <weaponTags>
      <li>MechaniteMagicRA</li>
    </weaponTags>
    <equippedStatOffsets>
      <PsychicSensitivity>0.10</PsychicSensitivity>
      <PainShockThreshold>-0.05</PainShockThreshold>
    </equippedStatOffsets>
    <statBases>
      <Mass>2.55</Mass>
      <WorkToMake>42500</WorkToMake>
      <AccuracyTouch>0.75</AccuracyTouch>
      <AccuracyShort>0.99</AccuracyShort>
      <AccuracyMedium>0.99</AccuracyMedium>
      <AccuracyLong>0.99</AccuracyLong>
      <RangedWeapon_Cooldown>1.2</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Sculpt</effectWorking>
      <soundWorking>Recipe_Sculpt</soundWorking>
      <recipeUsers>
        <li>CraftingSpot</li>
        <li>ElectricSmithy</li>
        <li>FueledSmithy</li>
      </recipeUsers>
      <unfinishedThingDef>UnfinishedSculpture</unfinishedThingDef>
      <researchPrerequisite>MM_Blood</researchPrerequisite>
    </recipeMaker>
    <costList>
      <I_EMMechanismL>1</I_EMMechanismL>
      <I_EMMechanismS>5</I_EMMechanismS>
      <WoodLog>50</WoodLog>
      <I_EMBlood>4</I_EMBlood>
      <I_EMSkull>1</I_EMSkull>
      <Cloth>50</Cloth>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_EMRipper</defaultProjectile>
        <warmupTime>1.6</warmupTime>
        <range>10</range>
        <burstShotCount>4</burstShotCount>
        <ticksBetweenBurstShots>0</ticksBetweenBurstShots>
        <soundCast>EM_RipperSound</soundCast>
        <soundCastTail>GunTail_Light</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <label>stock</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>9</power>
        <cooldownTime>1.8</cooldownTime>
      </li>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>10</power>
        <cooldownTime>1.9</cooldownTime>
      </li>
    </tools>
  </thingDef>
  <!--ai persona - bomb javelin-->
  <thingDef ParentName="EM_BaseHumanMakeableGun">
    <defName>EM_GunJavelin</defName>
    <label>Bomb Javelin</label>
    <description>Ancient pattern explosives powered by mechanites tip these oddly weighted javelins. Tough to throw very far but explode with intense heat and concussive force. Extremely dangerous when used in enclosed spaces.</description>
    <graphicData>
      <texPath>Things/Item/Weapon/Javelin</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Interact_Grenade</soundInteract>
    <equippedStatOffsets>
      <MoveSpeed>-0.15</MoveSpeed>
      <MentalBreakThreshold>-0.03</MentalBreakThreshold>
    </equippedStatOffsets>
    <weaponTags>
      <li>MechaniteMagicRA</li>
    </weaponTags>
    <statBases>
      <Mass>4.11</Mass>
      <WorkToMake>46800</WorkToMake>
      <AccuracyTouch>0.85</AccuracyTouch>
      <AccuracyShort>0.65</AccuracyShort>
      <AccuracyMedium>0.5</AccuracyMedium>
      <AccuracyLong>0.1</AccuracyLong>
      <RangedWeapon_Cooldown>2.5</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Sculpt</effectWorking>
      <soundWorking>Recipe_Sculpt</soundWorking>
      <recipeUsers>
        <li>CraftingSpot</li>
        <li>ElectricSmithy</li>
        <li>FueledSmithy</li>
      </recipeUsers>
      <unfinishedThingDef>UnfinishedSculpture</unfinishedThingDef>
      <researchPrerequisite>MM_Thinking</researchPrerequisite>
    </recipeMaker>
    <costList>
      <I_EMMechanismL>1</I_EMMechanismL>
      <I_EMMechanismS>5</I_EMMechanismS>
      <WoodLog>150</WoodLog>
      <I_EMBlood>4</I_EMBlood>
      <I_EMSkull>1</I_EMSkull>
    </costList>
    <verbs>
      <li>
        <forcedMissRadius>1.0</forcedMissRadius>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_EMJavelin</defaultProjectile>
        <warmupTime>0.8</warmupTime>
        <range>18</range>
        <soundCast>Bow_Small</soundCast>
        <burstShotCount>1</burstShotCount>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>12</muzzleFlashScale>
      </li>
    </verbs>
  </thingDef>
  <!--cryptosleep - evil eye-->
  <thingDef ParentName="EM_BaseHumanMakeableGun">
    <defName>Gun_EMEvilEye</defName>
    <label>Evil Eye</label>
    <description>Perculiar piece of ancient technology. By merely looking through the eyepiece at something and manipulating the mechanism damage appears as if by magic. Surely an evil artifact from time long gone.</description>
    <graphicData>
      <texPath>Things/Item/Weapon/Eye</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Interact_Rifle</soundInteract>
    <equippedStatOffsets>
      <ImmunityGainSpeed>0.05</ImmunityGainSpeed>
    </equippedStatOffsets>
    <statBases>
      <Mass>4</Mass>
      <WorkToMake>54800</WorkToMake>
      <AccuracyTouch>0.65</AccuracyTouch>
      <AccuracyShort>0.85</AccuracyShort>
      <AccuracyMedium>0.87</AccuracyMedium>
      <AccuracyLong>0.9</AccuracyLong>
      <RangedWeapon_Cooldown>1.85</RangedWeapon_Cooldown>
    </statBases>
    <recipeMaker>
      <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Sculpt</effectWorking>
      <soundWorking>Recipe_Sculpt</soundWorking>
      <recipeUsers>
        <li>CraftingSpot</li>
        <li>ElectricSmithy</li>
        <li>FueledSmithy</li>
      </recipeUsers>
      <unfinishedThingDef>UnfinishedSculpture</unfinishedThingDef>
      <researchPrerequisite>MM_Crypt</researchPrerequisite>
    </recipeMaker>
    <costList>
      <I_EMMechanismL>1</I_EMMechanismL>
      <I_EMMechanismS>5</I_EMMechanismS>
      <WoodLog>150</WoodLog>
      <I_EMBlood>4</I_EMBlood>
      <I_EMSkull>1</I_EMSkull>
    </costList>
    <weaponTags>
      <li>MechaniteMagicRA</li>
    </weaponTags>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_EMEye</defaultProjectile>
        <warmupTime>2.35</warmupTime>
        <range>41</range>
        <soundCast>Bow_Small</soundCast>
        <burstShotCount>3</burstShotCount>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>12</muzzleFlashScale>
      </li>
    </verbs>
  </thingDef>
</Defs>
